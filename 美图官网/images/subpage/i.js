!function(){function t(t,e){e=e||window;var n=v(e);return S(n,e),b(n,function(e,n,r){return null!=e.Array?void t(e):(n.open("text/html","replace")._M_=function(){r&&(this.domain=r),e=this.defaultView||this.parentWindow,t(e)},n.write(k+'<body onload="document._M_();"></body>'+E),void n.close())}),n}function e(e,n){if(n=n||window,c||!e){var r=c||n;return e&&e(r),r}t(function(t){c=t,e(t)},n)}function n(t,e,n){if(U[t])return U[t];var r=new W(t,e,n);return U[t]=r,r}function r(t){return t&&"object"===D(t)&&!t.nodeType&&t!==t.window}var i=window;window.parent!==window&&window.inDapIF&&(i=window.parent);var o="__qq_qidian_da",a=i[o]||"qidianDA";if(i[o]=a,a){var s=i[a]=i[a]||function(){s[o]=s[o]||[],s[o].push(arguments)};if(!s.loaded){s.loaded=!0;var c,u="0.6.0",d=i.location,h=d.protocol,l=h+"//da.qidian.qq.com",f=h+"//combo.b.qq.com",p=new Date,v=function(t){var e=(t||window).document,n=e.createElement("iframe");return n.src="javascript:false",n.title="",n.role="presentation",n.frameBorder="0",n.tabIndex="-1",(n.frameElement||n).style.cssText="position:absolute;width:0;height:0;border:0;",n},g=function(){var t;try{var e=new Uint32Array(1);window.crypto.getRandomValues(e),t=2147483647&e[0]}catch(e){t=Math.floor(2147483648*Math.random())}return t},m=function(){return g().toString(36)},w="S3EVENT_LISTENERS"+m(),y=function(t,e,n){e=e.replace(/^on/i,"");var r=function(e){n.call(t,e)},i=e;e=e.toLowerCase(),t.addEventListener?t.addEventListener(i,r,!1):t.attachEvent&&t.attachEvent("on"+i,r);var o=t[w]=t[w]=[];return o[o.length]=[e,n,r,i],t},_=function(t,e,n){var r=n;e=e.replace(/^on/i,"").toLowerCase();for(var i,o,a,s=t[w],c=!r,u=s.length;u--;)i=s[u],i[0]!==e||!c&&i[1]!==r||(o=i[3],a=i[2],t.removeEventListener?t.removeEventListener(o,a,!1):t.detachEvent&&t.detachEvent("on"+o,a),s.splice(u,1));return t},b=function(t,e){var n,r,i=t.ownerDocument,o=!1;try{n=t.contentWindow,r=n.document}catch(a){o=!0,y(t,"load",function(){n=t.contentWindow,r=n.document,_(t,"load"),e(n,r,i.domain)}),t.src='javascript:void((function () {document.open("text/html", "replace");document.domain = "'+i.domain+'";document.close();})())'}o||e(n,r,"")},k='<!DOCTYPE html><html><head><meta charset="UTF-8"></head>',E="</html>",S=function(t,e){var n=(e||window).document,r=n.body||n.documentElement;r.insertBefore(t,r.firstChild)},x=function(t){return function(){var e=window.console;"undefined"!=typeof e&&"function"==typeof e[t]&&e[t].apply(e,arguments)}},C=x("log");C.group=x("group"),C.groupEnd=x("groupEnd");var q=function(){this._s={},this._avg={},this._max={}};q.prototype.start=function(t,e){this._s[t]=e?+e:+new Date},q.prototype.end=function(t,e){var n=this._s[t];this._s[t]=null;var r=e?+e:+new Date,i=r-n;this._max[t]=Math.max(i,this._max[t]||0);var o=this._avg[t];o?(o.s=(o.s*o.n+i)/(o.n+1),++o.n):o=this._avg[t]={s:i,n:1}},q.prototype.encode=function(){var t,e,n="",r=this._avg;for(var i in r)r.hasOwnProperty(i)&&(t=Math.round(r[i].s||0),e=Math.round(this._max[i]||0),n+=i+"("+t+"_"+e+")");return n};var T=new q,A={Boolean:1,Number:1,String:1,Function:1,Array:1,Date:1,RegExp:1,Object:1,Error:1},O=Object.prototype.toString,D=function(t){if(null==t)return String(t);var e=typeof t,n="object";return e===n||"function"===e?(e=O.call(t).slice(8,-1),A[e]?e.toLowerCase():n):typeof t},M=function(t){if(!t)return"";var n=[],r=/\[\]$/,i=e().encodeURIComponent,o=function(t,e){e="function"==typeof e?e():null==e?"":e,n[n.length]=i(t)+"="+i(e)},a=function(t,e){var i,s,c;switch(D(e)){case"array":if(t)for(i=0,c=e.length;i<c;i++)if(r.test(t))o(t,e[i]);else{var u="object"===D(e[i])?i:"";a(t+"["+u+"]",e[i])}else for(i=0,c=e.length;i<c;i++)a(e[i].key,e[i].value);break;case"object":for(s in e)e.hasOwnProperty(s)&&a(t?t+"["+s+"]":s,e[s]);break;default:e=""+e,t?o(t,e):n[n.length]=e}return n};return a("",t).join("&").replace(/%20/g,"+")},N=function(){return"sendBeacon"in window.navigator},I=function(){try{if("XMLHttpRequest"in window&&"withCredentials"in new window.XMLHttpRequest)return"xhr";if("XDomainRequest"in window)return"xdr"}catch(t){}return""},j=function(t,e){"string"!=typeof t&&(t=M(t));var n=e&&e.randomKey;if(n=null==n?"z":n){var r=n+"="+m();t+=(t?"&":"")+r}return t},L=function(t,e,n){var r=[t,e].join(t.indexOf("?")>=0?"&":"?"),i="S3PING_IMG"+m(),o=new Image;window[i]=o;var a=function(t){if(o.onload=o.onerror=o.onabort=null,window[i]=null,o=null,n){var e=null;t&&(e=new Error,e.name="ImgPing"+t),n(e)}};return o.onload=function(){a()},o.onerror=function(){a("Error")},o.onabort=function(){a("Abort")},o.src=r,!0},B=function(t,e){return N()&&window.navigator.sendBeacon(t,e)},F=function(t,e,n){if("xhr"!==I())return!1;var r=new window.XMLHttpRequest;return r.open("POST",t,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain"),n&&(r.onreadystatechange=function(){if(4===r.readyState){var t=r.status,e=t>=200&&t<400,i=null;if(!e){var o="XhrPing"+(t<500?"ClientError":"ServerError");i=new Error(o+" "+t),i.name=o}n(i)}}),r.send(e),!0},P=function(t,e,n){var r=t.length+n.length+1;return r>2083&&r-e.length>2048},R=function(t,e,n){e=j(e,n);var r=t.match(/(?:https?|ftp):\/\/[^\/]+/);if(!r)throw new Error('URL: "'+t+'" not absolute url.');var i=r[0],o=n&&n.transport,a=n&&n.callback;return"img"===o?L(t,e,a):"xhr"===o?F(t,e,a):"beacon"===o?B(t,e):P(t,i,e)?!(a||!B(t,e))||(!!F(t,e,a)||L(t,e,a)):L(t,e,a)},Q=function(t,e,n){var r=N();if(n=n||{},n.transport=r?"beacon":"img",R(t,e,n),!r){var i,o=200,a=+new Date;for(i=a+o;a<i;)a=+new Date}},V=function(t){this._data=t||[]};V.prototype.on=function(t){this._data[t]=!0},V.prototype.off=function(t){this._data[t]=!1},V.prototype.merge=function(t){for(var e=this._data.slice(),n=t._data,r=0;r<n.length;r++)e[r]=e[r]||n[r];return new V(e)},V.prototype.encode=function(){for(var t=[],e=0;e<this._data.length;e++)this._data[e]&&(t[Math.floor(e/6)]^=1<<e%6);for(e=0;e<t.length;e++)t[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(t[e]||0);return t.join("")+"~"};var G=function(){this._gFlags=new V,this._allFlags={}};G.prototype.flag=function(t,e){var n;if(e){var r=this._allFlags;r[e]=r[e]||new V,n=r[e]}else n=this._gFlags;n.on(t)},G.prototype.encode=function(t){var e=this._allFlags[t],n=this._gFlags;return(e?n.merge(e):n).encode()};var H=new G,J=function(t){return t.toString(36)},X="__QIDIANDA_SENDED",W=function(t,e,n){this.module=t,this.version=e,this.trackingServer=n};W.prototype={module:"",version:"",trackingServer:"",wrap:function(t,e,n,r){var i=this,o=null==e||"function"===D(e),a=o?e:e[t],s=function(){var e=r?r.id:null;try{n&&H.flag(n,e),T.start(t);var o;return a&&(o=a.apply(this,arguments)),T.end(t),o}catch(n){if(!n[X]){alert(n.name+"#"+n.message),n[X]=!0;var s=r?r.getCommonQuery(!0):null;i.sendError("err",t,n.name,n.message,e,s)}throw n}};return s.displayName=t,o||(e[t]=s),s},errorQueue:[],sending:!1,sendError:function(t,n,r,i,o,a,s){if(!(100*Math.random()>=1)){if(this.sending)return void this.errorQueue.push(arguments);this.sending=!0;var c=e().encodeURIComponent,u=this.trackingServer+"/ping/err";if(a=(a||"v="+this.version+"&t="+J(+new Date))+"&fg="+H.encode(o)+"&tp="+c(t)+"&p1="+c(this.module+"-"+n)+(r?"&p2="+c(r.slice(0,100)):"")+(i?"&p3="+c(i.slice(0,100)):""),s)Q(u,a);else{var d=this;R(u,a,{callback:function(){d.sending=!1;var t=d.errorQueue.shift();t&&d.sendError.apply(d,t)}})}}}};var U={},z=function(t){t=t||window;var e="navigator";return t[e]&&"preview"===t[e].loadPurpose},$=function(t){var e=t||window,n="document";return e[n]&&(e=e[n]),"prerender"===e.visibilityState},K=function(t,e){if(t=t||window,!z(t)){var n=t.document,r=!1,i=function(){e(t)},o=function(){r||$(t)||(r=!0,i(),_(n,"visibilitychange",o))};return $(t)?void y(n,"visibilitychange",o):void i()}},Y=function(t,e,n){var r=t.length;if(r>0){n=n||r,e=e||0;for(var i=new Array(n-e),o=e;o<n;o++)i[o]=t[o];return i}return[]},Z=function(t,e,n,r,i){n=n||window,n[t]=n[t]||[],i=i||"ready";for(var o=n[t],a=function(t){t.shift||(t=Y(t));var n=t.shift();"string"==typeof n?r?r(e,n,t):e[n].apply(e,t):e[i](n)};o.length;)a(o.shift());o.push=a},tt=function(t){return String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\-])","g"),"\\$1")},et=function(t,n){n=n||window;for(var r=[],i=n.document.cookie.split(";"),o=new RegExp("^\\s*"+tt(t)+"=\\s*(.*?)\\s*$"),a=0;a<i.length;a++){var s=i[a].match(o);s&&(r[r.length]=e().decodeURIComponent(s[1]))}return r},nt=function(t,n,r,i,o,a){r=r||window,n=e().encodeURIComponent(n);var s=t+"="+n+"; ";if(null!=a&&(s+="path="+a+"; "),null!=i){var c=new Date;c.setTime(c.getTime()+i),s+="expires="+c.toGMTString()+"; "}null!=o&&(s+="domain="+o+";");var u=r.document,d=u.cookie;if(u.cookie=s,d===u.cookie){for(var h=et(t),l=0;l<h.length;l++)if(n===h[l])return!0;return!1}return!0},rt=function(t,e,n,r,i){var o,a={".com":1,".net":1,".org":1,".edu":1,".gov":1,".cn":1,".tw":1,".hk":1};if(i)for(o=0;o<i.length;o++)a["."+i[o]]=1;var s=n.location.hostname,c=s.split("."),u=c.length,d="",h="";for(o=u-1;o>=0;o--)if(h="."+c[o]+h,!a[h]){var l=nt(t,e,n,r,h,"/");if(l){d=h;break}}return d},it="S3COOKIENAME"+m(),ot=function(){var t="cookie",e=window.document;if(window.navigator.cookieEnabled)return!0;e[t]=it+"=1";var n=e[t].indexOf(it+"=")!==-1;return e[t]=it+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",n},at=function(){var t="DocumentTouch";return!!("ontouchstart"in window||window[t]&&document instanceof window[t])},st=function(t){t=t||window;var e=t.document,n="BackCompat"===e.compatMode?e.body:e.documentElement;return n.clientHeight},ct=function(t){t=t||window;var e=t.document,n="BackCompat"===e.compatMode?e.body:e.documentElement;return n.clientWidth},ut=function(){function t(t){return t=t.match(/[\d]+/g),t.length=3,t.join(".")}var e=!1,n="";if(navigator.plugins&&navigator.plugins.length){var r=navigator.plugins["Shockwave Flash"];r&&(e=!0,r.description&&(n=t(r.description))),navigator.plugins["Shockwave Flash 2.0"]&&(e=!0,n="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var i=navigator.mimeTypes["application/x-shockwave-flash"];e=!!i&&i.enabledPlugin,e&&(n=t(i.enabledPlugin.description))}else try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");e=!0,n=t(o.GetVariable("$version"))}catch(r){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=!0,n="6.0.21"}catch(r){try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");e=!0,n=t(o.GetVariable("$version"))}catch(t){}}}return e?n:""},dt=function(){var t=window,e=t.document,n=e.createElement("div");n.setAttribute("id","ads");var r=!1;try{S(n,t),r=!!e.getElementById("ads")}catch(t){}return r&&n.parentNode&&n.parentNode.removeChild(n),r},ht=function(){var t="S3LOCALSTORAGE"+m(),e="localStorage";try{return window[e].setItem(t,1),window[e].removeItem(t),!0}catch(t){return!1}},lt=function(){var t="S3SESSIONSTORAGE"+m(),e="sessionStorage";try{return window[e].setItem(t,1),window[e].removeItem(t),!0}catch(t){return!1}},ft=function(){this.tasks={}};ft.prototype.set=function(t,e){this.tasks[t]=e},ft.prototype.get=function(t){return this.tasks[t]};var pt,vt=new ft,gt=function(){};gt.prototype.run=function(t){var e=t.get("win"),n=t.get("doc"),r=t.getFullApi("/ping/pv"),i=e.screen,o=i.orientation||i.mozOrientation||i.msOrientation;o&&o.type&&(o=o.type),pt||(pt={tz:(new Date).getTimezoneOffset()/60,hasf:ut(),hasadb:dt()?1:0,hasc:t.supportCookie?1:0,hastc:t.supportTouch?1:0,hasls:ht()?1:0,hasss:lt()?1:0,hasid:e.indexedDB?1:0});var a=t.getCommonData(!0),s=e.location.hash;a.add("r",n.referrer),"#"===s.charAt(0)&&(s=s.slice(1)),s&&a.add("uh",s),a.add("pt",n.title),a.add("sw",i.width),a.add("sh",i.height),a.add("saw",i.availWidth),a.add("sah",i.availHeight),a.add("scd",i.colorDepth),a.add("so",o),a.add("bw",ct(e)),a.add("bh",st(e)),a.extend(pt),T.start("req-pv"),R(r,a.toJSON(),{callback:t.wrap("pv-cb",function(e){return e?void t.sendError("req","pv",e.name):(T.end("req-pv"),void t.trigger("pv-done"))},26)})},gt.prototype.remove=function(t){},vt.set("pv",gt);var mt=function(t,e){var n=(e||window).document,r=n.createElement("iframe");return r.src=t,r.title="",r.role="presentation",r.frameBorder="0",r.tabIndex="-1",(r.frameElement||r).style.cssText="position:absolute;width:0;height:0;border:0;",S(r,e),r},wt=!1,yt=function(t,n){function r(){for(var t,e=s[w],r=0;t=e[r];)if(t[0]===u){var i=t[1];i(n),e.splice(r,1)}else r++;h=!0}function i(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",o),n.removeEventListener("load",o)):(s.detachEvent("onreadystatechange",o),n.detachEvent("onload",o))}function o(){(s.addEventListener||"load"===n.event.type||"complete"===s.readyState)&&(i(),r())}function a(){if(!h){try{l.doScroll("left")}catch(t){return e().setTimeout(a,50)}i(),r()}}n=n||window;var s=n.document,c="DOMContentLoaded",u=c+42,d=s[w]=s[w]||[];if(d[d.length]=[u,t,t,c],!wt){wt=!0;var h=!1;if("complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll)e().setTimeout(r);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",o),n.addEventListener("load",o);else{s.attachEvent("onreadystatechange",o),n.attachEvent("onload",o);var l=!1;try{l=null==n.frameElement&&s.documentElement}catch(t){}l&&l.doScroll&&a()}}},_t=window.navigator,bt=_t.userAgent,kt=null!=window.chrome&&"Google Inc."===_t.vendor&&/Chrome/.test(bt)&&bt.indexOf("OPR")===-1&&bt.indexOf("Edge")===-1,Et=window.navigator.userAgent,St=/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(Et),xt=function(){this.removed=!1};xt.prototype.run=function(t){if(!kt&&!St){var e=t.get("win");yt(t.wrap("id-cb",function(){if(this.removed)return void t.flag(20);var n="",r=t.get("ss")+"/da/id"+n+".html",i=M({q:t.get("qid"),p:t.get("pid"),t:t.get("tid"),a:t.get("aid"),c:t.get("cid"),s:t.getSid(),src:t.get("src"),pgv_pvi:t.get("pgv_pvi"),v:t.get("ver"),ts:t.getFullApi("/ping/id")});r+="?"+i,mt(r,e)},19),e)}},xt.prototype.remove=function(t){this.removed=!0},vt.set("id",xt);var Ct=function(t){return t.target||t.srcElement},qt=function(t){t=t||window;var e=t.document;return t.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},Tt=function(t){t=t||window;var e=t.document;return t.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},At=function(t){t=t||window;var e=t.document,n=e.body,r=e.documentElement,i="BackCompat"===e.compatMode?n:e.documentElement;return Math.max(r.scrollWidth,n.scrollWidth,i.clientWidth)},Ot=function(t){t=t||window;var e=t.document,n=e.body,r=e.documentElement,i="BackCompat"===e.compatMode?n:e.documentElement;return Math.max(r.scrollHeight,n.scrollHeight,i.clientHeight)},Dt=function(t){var e="",n=t.nodeType;if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=Dt(t)}else if(3===n||4===n)return t.nodeValue;return e},Mt=function(){};Mt.prototype.run=function(t){var e=t.get("win"),n=t.get("doc"),r=n.documentElement;this.cb=t.wrap("clc-cb",function(n){var r=Ct(n),i=t.getCommonData(),o=r.nodeName.toLowerCase();if(i.add("pw",At(e)),i.add("ph",Ot(e)),i.add("bw",ct(e)),i.add("bh",st(e)),i.add("bx",Tt(e)),i.add("by",qt(e)),i.add("tag",o),r.href){var a=r.getAttribute("target");a&&i.add("target",a),i.add("href",r.href)}i.add("x",n.clientX||0),i.add("y",n.clientY||0);var s,c=0;"a"!==o&&"button"!==o||(s=Dt(r),c=2),"input"!==o||"button"!==r.type&&"submit"!==r.type||(s=r.value||"",c=2),s&&i.add("word",s.slice(0,20)),t.ping("clc",i,c)});var i=t.supportTouch;i&&t.flag(18),y(r,i?"touchstart":"click",this.cb)},Mt.prototype.remove=function(t){var e=t.get("doc"),n=e.documentElement;_(n,"click",this.cb),t.supportTouch&&_(n,"touchstart",this.cb)},vt.set("clc",Mt);var Nt="unload",It=function(){};It.prototype.run=function(t){var e=t.get("win");this.cb=function(){try{var e=t.getCommonData();e.add("spd",T.encode()),t.ping("pc",e,3)}catch(e){throw t.sendError("err","pc-cb",e.name,e.message,!0),e}},y(e,Nt,this.cb)},It.prototype.remove=function(t){var e=t.get("win");_(e,Nt,this.cb)},vt.set("pc",It);var jt=function(t,e,n){this.api=t,this.pingName=e,this.params=n,n.hasKey("a")||this.params.prefix("a",e);var r=this;this.params.on("change",function(){r._changed=!0})};jt.prototype.getQueryData=function(){return this.params},jt.prototype.size=function(){var t={a:1};return this.encode(t).length},jt.prototype.ping=function(t,e){var n=this.params.filter({a:1});return t?void Q(this.api,n):void R(this.api,n,{callback:e})},jt.prototype.encode=function(t){if(!t&&null!=this._encodeValue&&!this._changed)return this._encodeValue;var e=this.params.encode(t);return this._changed=!1,t||(this._encodeValue=e),e};var Lt=function(){var t=N();this.max=I()&&t?8192:2047,this.queue=[]};Lt.prototype.run=function(t){this.stopping=!0,this.tracker=t,this.heartBeatInterval=t.get("hbt"),this.batchApi=t.getFullApi("/ping/b"),2047===this.max&&this.tracker.flag(27)},Lt.prototype.start=function(){this.stopping=!1,this.batchSend()},Lt.prototype.stop=function(){this.stopping=!0},Lt.prototype.push=function(t,e,n){var r=new jt(this.tracker.getFullApi("/ping/"+t),t,e);if(this.stopping)return this.tracker.flag(24),void this._push(r,n);var i=3===n;if(n&&(0===this.queue.length||r.size()>=this.max)){this.tracker.flag(25);var o=this,a="req-"+t;return T.start(a),void r.ping(i,this.tracker.wrap("pq-ipingcb",function(e){return e?void o.tracker.sendError("req",t,e.name):void T.end(a)}))}this._push(r,n);var s=n&&n>1;s?this.batchSend(i):this.waitForSend()},Lt.prototype._push=function(t,e){e?this.queue.unshift(t):this.queue.push(t)},Lt.prototype.waitForSend=function(){var t=this;if(this.queue.length&&!t.heartBeat){var n=this.tracker.wrap("pq-timer",function(){t.heartBeat=null,t.batchSend()});t.heartBeat=e().setTimeout(n,t.heartBeatInterval)}},Lt.prototype.batchSend=function(t){var e,n,r=[];for(e=0,n=this.queue.length;e<n;e++)r.push(this.queue[e].encode());e=n;var i=this.calQuery(r);if(i){for(;i.length>this.max&&e>=2;)e--,i=this.calQuery(r,e);if(this.queue.splice(0,e),t)Q(this.batchApi,i);else{var o=this,a="req-b";T.start(a),R(this.batchApi,i,{callback:this.tracker.wrap("pq-pingcb",function(t){t&&o.tracker.sendError("req","b",t.name),T.end(a),o.waitForSend()})})}}},Lt.prototype.calQuery=function(t,e){function n(){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].slice(a));var s=i?"c="+i+"&":"";return s+"l[]="+e.join("&l[]=")+o}null!=e&&(t=t.slice(0,e));var r=t[0];if(!r)return"";var i="",o="&t="+J(+new Date);if(1===t.length)return"l[]="+r+o;for(var a=0,s=r.length;a<s;a++){for(var c,u=null,d=0,h=t.length;d<h;d++){var l=t[d];if(c=l.charAt(a),null!=u&&u!==c)return n();u=c}i+=c}return n()},Lt.prototype.remove=function(t){this.heartBeat&&(e().clearTimeout(this.heartBeat),this.heartBeat=null)},vt.set("pq",Lt);var Bt=function(t,e,n,r,i){if(t.setAttribute("type","text/javascript"),r&&t.setAttribute("charset",r),t.setAttribute("src",e),i)return void i.insertBefore(t,i.firstChild);var o=n.getElementsByTagName("script"),a=o[o.length-1];if(a)a.parentNode.insertBefore(t,a);else{var s=n.getElementsByTagName("head")[0];s.insertBefore(t,s.firstChild)}},Ft=function(t,n,r,i,o,a){var s=o?o.ownerDocument:document,c=s.defaultView||s.parentWindow,u=s.createElement("SCRIPT"),d="S3JSONPPREFIX";a=a||"callback",r=r||1e4;var h,l,f=new RegExp("(?:\\?|&)"+a+"=([^&]*)"),p=function(t){return function(){try{if(t){var r=new Error;r.name="Timeout",n.call(c,r)}else{var i=Y(arguments);i.unshift(null),n.apply(c,i),e().clearTimeout(h)}c[l]=null,delete c[l]}catch(t){C(t)}finally{u&&u.parentNode&&u.parentNode.removeChild(u)}}},v=t.match(f);l=v?v[1]:d+m(),c[l]=p(!1),r&&(h=e().setTimeout(p(!0),r)),v||(t+=(t.indexOf("?")<0?"?":"&")+a+"="+l),Bt(u,t,s,i,o)},Pt=function(t){return 0===t.indexOf(".")?t.substr(1):t},Rt=function(t){return Pt(t).split(".").length},Qt=function(t){return t?(t.length>1&&t.lastIndexOf("/")===t.length-1&&(t=t.substr(0,t.length-1)),0!==t.indexOf("/")&&(t="/"+t),t):"/"},Vt=function(t){return t=Qt(t),"/"===t?1:t.split("/").length},Gt=function(t,e,n){t=t||window;var r=t.location,i=Vt(null!=n?n:r.pathname),o=Rt(null!=e?e:r.hostname);return o+(i>1?"-"+i:"")+"-"},Ht=function(t,e,n,r,i,o){var a=Gt(n,i,o);return e+="",nt(t,a+e.replace(/\-/g,"%2d"),n,r,i,o)},Jt=function(t,e,n,r){for(var i=et(t,e),o=Gt(e,n,r),a=0;a<i.length;a++){var s=i[a];if(0===s.indexOf(o))return s.slice(o.length).replace(/%2d/g,"-")}return""},Xt="_qddamta_",Wt=function(){this.removed=!1};Wt.prototype.run=function(t){var e=t.get("noMTA");if(e)return void t.flag(21);var n=Xt+t.id,r=t.get("win"),i=Jt(n,r,null,"/");if(i)return t.flag(22),void this.loadMTA(t,i);var o=t.getCommonData(),a=t.getFullApi("/jsonp/mta")+"?"+M(o.toJSON()),s=this;Ft(a,t.wrap("mta-cb",function(e,i){if(e)return t.flag(23),void t.sendError("req","mta",e.name);if(i&&i.err)return t.flag(29),void t.sendError("req","mta","ErrNum:"+i.err);var o=36e5;return i&&i.sid?(Ht(n,i.sid,r,o,null,"/"),void s.loadMTA(t,i.sid)):void Ht(n,"0",r,o,null,"/")}))},Wt.prototype.loadMTA=function(t,e){if(e&&"0"!==e){var n,r=t.get("doc"),i=r.createElement("script"),o=r.getElementsByTagName("script"),a=o[o.length-1];i.setAttribute("sid",e),i.setAttribute("opts",'{"performanceMonitor":false}'),i.setAttribute("name","MTAH5"),i.src=t.get("ptc")+"//pingjs.qq.com/h5/stats.js",a&&a.parentNode?a.parentNode.insertBefore(i,a):(n=r.getElementsByTagName("head")[0])&&n.appendChild(i)}},Wt.prototype.remove=function(t){this.removed=!0},vt.set("mta",Wt);var Ut=function(t){var e=1;if(t){var n=0;e=0;for(var r=t.length-1;r>=0;r--)n=t.charCodeAt(r),e=(e<<6&268435455)+n+(n<<14),n=266338304&e,e=0!=n?e^n>>21:e}return e},zt="_EVENTS",$t=function(){};$t.prototype.on=function(t,e){var n=this[zt];n||(n=this[zt]={});var r=n[t]=n[t]||[];r.push(e)},$t.prototype.off=function(t,e){if(!t)return void(this[zt]={});var n=this[zt];if(n&&n[t]){if(!e)return void(n[t].length=0);for(var r=n[t],i=0;i<r.length;i++)r[i]===e&&(r[i]=null)}},$t.prototype.trigger=function(t){var e=Y(arguments),n=this[zt];if(t=e.shift(),n&&n[t])for(var r=n[t],i=0;i<r.length;i++)r[i]&&r[i].apply(this,e)};var Kt=function(t,e){var n=t.prototype,r=function(){};r.prototype=e.prototype;var i=t.prototype=new r;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);t.prototype.constructor=t,t.superClass=e.prototype},Yt=function(){this.vals={},$t.apply(this,arguments)};Kt(Yt,$t),Yt.prototype.set=function(t,e){if("string"==typeof t){var n=this.vals[t];n!==e&&(this.vals[t]=e,this.trigger("change",t,e,n))}else{var r=t;for(var i in r)r.hasOwnProperty(i)&&this.set(i,r[i])}},Yt.prototype.get=function(t){return this.vals[t]||""},Yt.prototype.map=function(t){for(var e in this.vals)if(this.vals.hasOwnProperty(e)){var n=this.vals[e];n&&t(e,n)}};var Zt=new Yt,te=function(t,e,n){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(r(e[n])?(t[n]=t[n]||{},o(t[n],e[n])):t[n]=e[n])}var a=i;return"boolean"!=typeof t&&(n=e,e=t,a=o),a(e,n),e},ee=function(){this.json=[],this.suffixJSON=[],this._prefixLength=0};Kt(ee,$t),ee.prototype.prefix=function(t,e){this._add(t,e,this._prefixLength),this._prefixLength++},ee.prototype.add=function(t,e){this._add(t,e)},ee.prototype._add=function(t,e,n){var r={key:t,value:e};null!=n?this.json.splice(n,0,r):this.json.push(r),this.trigger("change")},ee.prototype.suffix=function(t,e){var n={key:t,value:e};this.suffixJSON.push(n),this.trigger("change")},ee.prototype.hasKey=function(t){for(var e=0,n=this.json.length;e<n;e++)if(this.json[e].key===t)return!0;return!1},ee.prototype.extend=function(t){for(var e in t)t.hasOwnProperty(e)&&null!=t[e]&&this.json.push({key:e,value:t[e]});this.trigger("change")},ee.prototype.toJSON=function(){return this.json.concat(this.suffixJSON)},ee.prototype.filter=function(t){var e,n,r,i=this.json,o=[];for(e=0,n=i.length;e<n;e++)r=i[e],t[r.key]||o.push(r);var a=this.suffixJSON;for(e=0,n=a.length;e<n;e++)r=a[e],t[r.key]||o.push(r);return o},ee.prototype.size=function(t){return this.encode(t).length},ee.prototype.encode=function(t){var e=this.toJSON();return ee.encode(e,t)},ee.encode=function(t,e){if(!t||!t.length)return"";var n=[],r=/\[\]$/,i=function(t,e){e="function"==typeof e?e():null==e?"":e,n[n.length]=ee.encodeValue(t)+"("+ee.encodeValue(e)+")"},o=function(t,a){var s,c,u;switch(D(a)){case"array":if(t)for(s=0,c=a.length;s<c;s++)if(r.test(t))i(t,a[s]);else{var d="object"===D(a[s])?s:"";o(t+"["+d+"]",a[s])}else for(s=0,c=a.length;s<c;s++)u=a[s].key,e&&e[u]||o(u,a[s].value);break;case"object":for(u in a)a.hasOwnProperty(u)&&o(t?t+"["+u+"]":u,a[u]);break;default:a=""+a,t?i(t,a):n[n.length]=a}return n};return o("",t).join("").replace(/%20/g,"+")},ee.encodeValue=function(t){return e().encodeURIComponent(t).replace(/\(/g,"%28").replace(/\)/g,"%29")};var ne=function(t,n){var r=new RegExp("(^|&|\\?|#)"+tt(n)+"=([^&#]*)(&|$|#)",""),i=t.match(r);return i&&i[2]?e().decodeURIComponent(i[2]):""},re=/[^:]+:\/\/([^:\/]+)/,ie=function(t){var e=t.match(re);return e?e[1]:""},oe=function(t,e){return ie(t)===ie(e)},ae={createSid:function(){this._hasCookie=this.supportCookie,this._hasCookie||this.flag(9),this._sidExpiredTime=0;var t=Zt.get("sid");if(t)return this.flag(10),void this.set("sid",t);var e=this.get("win"),n=ne(e.location.search,"ADTAG"),r=J(Ut(n)),i=this.get("doc").referrer,o=J(Ut(i));if(!this._hasCookie)return void this.recreateSid(r,o);var a=this.getCookieSid(),s=a[0],c=a[1];if(!s||!c)return this.flag(11),void this.recreateSid(r,o);var u;if(s&&c){var d=s.split("."),h=d[0],l=d[1];u=n&&h!==r||i&&l!==o&&!oe(i,e.location.href)}if(!u)return this.flag(12),void this._saveSid(s,c);var f=Jt("_qddac",e,null,null),p=f.split(".");return p[0]===r&&p[1]===o?(this.flag(13),void this._saveSid(p[0]+"."+p[1],p[2]+"."+p[3])):void this.recreateSid(r,o)},recreateSid:function(t,e){t=t||J(Ut(ne(this.get("win").location.search,"ADTAG"))),e=e||J(Ut(this.get("doc").referrer));var n=t+"."+e,r=this.random();this._saveSid(n,r)},refreshCookie:function(){if(!this._hasCookie){var t=+new Date,e=this._sidExpiredTime;return void(t>=e&&(this.flag(14),this.recreateSid()))}var n=this.getCookieSid(),r=n[0],i=n[1];if(r&&i){var o=this.get("sid");if(o[0]!==r||o[1]!==i)return void this.flag(15);this._setSidCookie()}else this.recreateSid()},_setSidCookie:function(){var t=18e5,e=+new Date,n=new Date;if(n.setHours(23),n.setMinutes(59),n.setSeconds(59),n.setMilliseconds(999),n=+n,this._hasCookie){var r=this.get("win"),i=this.get("sid"),o=Ht("_qdda",i[0],r,Math.min(t,n-e),null,"/");o&=Ht("_qddab",i[1],r,null,null,"/"),this._hasCookie=o}this._hasCookie||(this._sidExpiredTime=Math.min(e+t,n))},_saveSid:function(t,e){this._setGlobal("sid",[t,e]),this._setSidCookie()},_getSid:function(){var t=this.get("sid");return t?t.join("."):""},getSid:function(t){return t||this.refreshCookie(),this._getSid()},getCookieSid:function(){var t=this.get("win"),e=Jt("_qdda",t,null,"/"),n=Jt("_qddab",t,null,"/");return[e,n]},setClosedSid:function(){if(this._hasCookie){var t=this.getCookieSid(),e=t[0],n=t[1];if(e&&n){var r=this.get("win"),i=this._getSid();Ht("_qddac",i,r,Math.max(this._getLoadedTime()+5e3,1e4),null,null)}}},_getLoadedTime:function(){var t=this.get("win"),e=t.performance||t.webkitPerformance,n=e&&e.timing;if(!n)return 0;var r=n.navigationStart;return 0===r?0:n.loadEventStart-r}},se=n("i"),ce=function(t,e,n,r){var i=this;i.qdda=t,Yt.apply(i,arguments),i.name=n,r&&(i.flag(6),i.set(r)),i.supportCookie=ot(),i.supportTouch=at(),i.id=e,i.createPid(),i.createQid(),i.createSid(),i.init()};ce.prototype={init:function(){var t=this;t.tasks={},t.task("pq"),t.on("pv-done",function(){t.task("mta"),t.task("id"),t.tasks.pq.start(),T.end("rdy")}),t.task("pv"),t.task("clc"),t.task("pc")},_setGlobal:function(t,e){this.set(t,e),Zt.set(t,e)},_genQDAValue:function(t){return"QD."+t},_calQDAValue:function(t){if(!t||"string"!=typeof t)return"";var e=t.match(/QD\.([\w\W]+)/);return e&&e[1]||""},_genId:function(){var t=this.get("win"),e=this.get("doc"),n=t.navigator.userAgent+(e.cookie?e.cookie:"")+(e.referrer?e.referrer:"")+t.location.href;return J(g()^2147483647&Ut(n))+"."+this.random()},createPid:function(){var t=this.get("win"),e="__qq_qidian_da_pid",n=t[e],r=this._calQDAValue(n);r||(r=this._genId(),t[e]=this._genQDAValue(r)),this.set("pid",r)},createQid:function(){var t,e,n=this.get("win");if(this.supportCookie){var r="_qddaz",i=31536e6;t=et(r)[0],e=this._calQDAValue(t),e||(e=this._genId()),t=this._genQDAValue(e);var o=rt(r,t,n,i,["qq.com"]);o||nt(r,t,n,i,null,"/")}else{var a="__qq_qidian_da_pid";t=n[a],e=this._calQDAValue(t),e||(e=this._genId()),n[a]=this._genQDAValue(e)}this.set("qid",e)},getCommonData:function(t){var e=new ee;e.prefix("v",this.get("ver")),e.prefix("tid",this.get("tid")),e.prefix("aid",this.get("aid")),e.prefix("pid",this.get("pid")),e.prefix("qid",this.get("qid"));var n=this.get("cid"),r=this.get("src"),i=this.get("pgv_pvi");return r&&e.prefix("src",r),n&&e.prefix("cid",n),i&&e.prefix("pgv_pvi",i),e.prefix("sid",this.getSid(t)),e.suffix("t",J(+new Date)),e},getCommonQuery:function(t){return M(this.getCommonData(t).toJSON())},getFullApi:function(t){return this.get("ts")+t},ping:function(t,e,n){"pc"===t&&this.setClosedSid();var r=this.tasks.pq;r.push(t,e,n||0)},task:function(t){var e=this.tasks[t];if(!e){var n=vt.get(t);if(!n)return void this.flag(8);e=this.tasks[t]=new n}var r=Y(arguments,1);e.run(this,r)},remove:function(){for(var t in this.tasks)this.tasks.hasOwnProperty(t)&&this.tasks[t].remove(this)},random:function(){return m()+"."+J(+new Date)},flag:function(t){H.flag(t,this.id)},wrap:function(t,e,n){return se.wrap(t,e,n,this)},sendError:function(t,e,n,r,i){se.sendError(t,e,n,r,this.id,this.getCommonQuery(!0),i)}},te(ce.prototype,ae),Kt(ce,Yt),e(function(){T.start("rdy",p);var t=n("i",u,l),e=t.wrap("run",K,1),r=t.wrap("init",function(e){var n={win:e,version:u,trackers:{},loadedTrackers:{},ready:function(t){H.flag(5),t.call(this)},create:function(t,n,r,i){"string"!=typeof n&&(i=r,r=n,n="");var o=t+(n?"|"+n:"");if(!this.loadedTrackers[o]){this.loadedTrackers[o]=!0;var a,s;if("string"==typeof r?(s=r,a=i||{}):(a=r||{},s=null==i?"_"+m():i),this.trackers[s])throw new Error('Tracker name: "'+s+'" exist.');a.aid=n,a.tid=t,a.win=e,a.doc=e.document,a.ver=this.version,a.ptc=h,a.ts=l,a.ss=f,a.hbt=5e3,this.trackers[s]=new ce(this,o,s,a)}},getTracker:function(t){return this.trackers[t]},eachTracker:function(t){for(var e in this.trackers)this.trackers.hasOwnProperty(e)&&t(e)}};t.wrap("create",n,4);var r="set";Z(o,n,s,t.wrap("mqp-cb",function(t,e,n){if("create"===e)return void t[e].apply(t,n);var i=e.split("."),o=i[1]||i[0],a=2===i.length?i[0]:null,s=function(e){var i=t.getTracker(e);!i||r.indexOf(o)<0||"function"!=typeof i[o]||i[o].apply(i,n)};null==a?t.eachTracker(s):s(a)},3))},2);e(i,r)},i)}}}();